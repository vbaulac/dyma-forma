<div class="container-fluid" fxLayout="row" fxLayoutAlign="center start" style="margin-top:50px">
  <div fxLayout="column" fxLayoutGap="20px" fxFlex="600px">
    <h3>To do</h3>
    <div fxLayout="row" fxLayoutGap="15px" fxLayoutAlign="space-between">
      <input type="email" [(ngModel)]="message" class="form-control">
      <button class="btn btn-primary" (click)="addTodo()">Ajouter</button>
    </div>
    <ul class="list-group" *ngFor="let todo of todos$ | async; let i = index;"><!-- $ means observable (not mandoatory) -->
      <li class="list-group-item" 
      fxLayout="row" 
      fxLayoutGap="15px" 
      fxLayoutAlign="center center"
      [routerLink]="['/todo', todo.id]">
        <span fxFlex="auto">{{ todo.message }} ({{ todo.done }})</span>
        <button class="btn btn-success" (click)="toggleTodo(todo.id)">toogle</button>
        <button class="btn btn-danger" (click)="deleteTodo(todo.id)">Supprimer</button>
      </li>
    </ul>

    <hr>

    <div *ngIf="selectedTodo$ | async; let selectedTodo"> {{ selectedTodo.message }} </div>
  </div>
</div>